{"version":3,"sources":["../../lib/injectOutputOutputs.js"],"names":["require","entries","module","exports","ctx","sls","service","outputs","outputKey","outputValue","outputValueKeys","Object","keys","includes","some","key","startsWith","provider","compiledCloudFormationTemplate","Outputs","Description","Value"],"mappings":"AAAA;;;;;;;;;;;;;;;;;;;;iBAEoBA,OAAO,CAAC,QAAD,C;MAAnBC,O,YAAAA,O;;AAERC,MAAM,CAACC,OAAP;AAAA,+BAAiB,WAAgBC,GAAhB,EAAqB;AAAA,+CACGH,OAAO,CAACG,GAAG,CAACC,GAAJ,CAAQC,OAAR,CAAgBC,OAAhB,IAA2B,EAA5B,CADV;AAAA;;AAAA;AACpC,0DAA+E;AAAA;AAAA,cAAnEC,SAAmE;AAAA,cAAxDC,WAAwD;;AAC7E,YAAI,OAAOA,WAAP,KAAuB,QAA3B,EAAqC;AACnC,gBAAMC,eAAe,GAAGC,MAAM,CAACC,IAAP,CAAYH,WAAZ,CAAxB;;AACA,cACEC,eAAe,CAACG,QAAhB,CAAyB,KAAzB,KACAH,eAAe,CAACI,IAAhB,CAAsBC,GAAD,IAASA,GAAG,CAACC,UAAJ,CAAe,MAAf,CAA9B,CAFF,EAGE;AACAZ,YAAAA,GAAG,CAACC,GAAJ,CAAQC,OAAR,CAAgBW,QAAhB,CAAyBC,8BAAzB,CAAwDC,OAAxD,CAAiE,YAAWX,SAAU,EAAtF,IAA2F;AACzFY,cAAAA,WAAW,EAAG,eAAcZ,SAAU,GADmD;AAEzFa,cAAAA,KAAK,EAAEZ;AAFkF,aAA3F;AAIAL,YAAAA,GAAG,CAACC,GAAJ,CAAQC,OAAR,CAAgBC,OAAhB,CAAwBC,SAAxB,IAAsC,iBAAgBA,SAAU,EAAhE;AACD;AACF;AACF;AAfmC;AAAA;AAAA;AAAA;AAAA;AAgBrC,GAhBD;;AAAA;AAAA;AAAA;AAAA","sourcesContent":["'use strict';\n\nconst { entries } = require('lodash');\n\nmodule.exports = async function (ctx) {\n  for (const [outputKey, outputValue] of entries(ctx.sls.service.outputs || {})) {\n    if (typeof outputValue === 'object') {\n      const outputValueKeys = Object.keys(outputValue);\n      if (\n        outputValueKeys.includes('Ref') ||\n        outputValueKeys.some((key) => key.startsWith('Fn::'))\n      ) {\n        ctx.sls.service.provider.compiledCloudFormationTemplate.Outputs[`SFEOutput${outputKey}`] = {\n          Description: `SFE output \"${outputKey}\"`,\n          Value: outputValue,\n        };\n        ctx.sls.service.outputs[outputKey] = `CFN!?SFEOutput${outputKey}`;\n      }\n    }\n  }\n};\n"],"file":"injectOutputOutputs.js"}