{"version":3,"sources":["../../lib/resolveOutputs.js"],"names":["require","getAccessKeyForTenant","getService","module","exports","org","app","service","stage","region","serviceData","accessKey","tenant","stageData","stagesAndRegions","regionData","outputs"],"mappings":"AAAA;;;;;;iBAE8CA,OAAO,CAAC,0BAAD,C;MAA7CC,qB,YAAAA,qB;MAAuBC,U,YAAAA,U;;AAE/BC,MAAM,CAACC,OAAP;AAAA,+BAAiB,WAAO;AAAEC,IAAAA,GAAF;AAAOC,IAAAA,GAAP;AAAYC,IAAAA,OAAZ;AAAqBC,IAAAA,KAArB;AAA4BC,IAAAA;AAA5B,GAAP,EAAgD;AAC/D,UAAMC,WAAW,SAASR,UAAU,CAAC;AACnCS,MAAAA,SAAS,QAAQV,qBAAqB,CAACI,GAAD,CADH;AAEnCO,MAAAA,MAAM,EAAEP,GAF2B;AAGnCC,MAAAA,GAHmC;AAInCC,MAAAA;AAJmC,KAAD,CAApC;AAOA,UAAMM,SAAS,GAAGH,WAAW,CAACI,gBAAZ,CAA6BN,KAA7B,CAAlB;AACA,QAAI,CAACK,SAAL,EAAgB,OAAO,EAAP;AAChB,UAAME,UAAU,GAAGF,SAAS,CAACJ,MAAD,CAA5B;AACA,QAAI,CAACM,UAAL,EAAiB,OAAO,EAAP;AACjB,WAAOA,UAAU,CAACC,OAAlB;AACD,GAbD;;AAAA;AAAA;AAAA;AAAA","sourcesContent":["'use strict';\n\nconst { getAccessKeyForTenant, getService } = require('@serverless/platform-sdk');\n\nmodule.exports = async ({ org, app, service, stage, region }) => {\n  const serviceData = await getService({\n    accessKey: await getAccessKeyForTenant(org),\n    tenant: org,\n    app,\n    service,\n  });\n\n  const stageData = serviceData.stagesAndRegions[stage];\n  if (!stageData) return {};\n  const regionData = stageData[region];\n  if (!regionData) return {};\n  return regionData.outputs;\n};\n"],"file":"resolveOutputs.js"}