{"version":3,"sources":["../../src/logs/createDestination.js"],"names":["createDestination","tenantUid","appUid","serviceName","stageName","regionName","accountId","accessKey","body","JSON","stringify","platformConfig","logDestinationUrl","method","headers","Authorization","response","json"],"mappings":";;;;;;AAAA;;;;AACA;;;;AACA;;;;;;AAEA,IAAMA;AAAA,sEAAoB;AAAA,QACxBC,SADwB,QACxBA,SADwB;AAAA,QAExBC,MAFwB,QAExBA,MAFwB;AAAA,QAGxBC,WAHwB,QAGxBA,WAHwB;AAAA,QAIxBC,SAJwB,QAIxBA,SAJwB;AAAA,QAKxBC,UALwB,QAKxBA,UALwB;AAAA,QAMxBC,SANwB,QAMxBA,SANwB;AAAA,QAOxBC,SAPwB,QAOxBA,SAPwB;AAAA;AAAA;AAAA;AAAA;AAAA;AASlBC,gBATkB,GASXC,KAAKC,SAAL,CAAe;AAC1BT,uBAD0B;AAE1BC,oBAF0B;AAG1BC,yBAH0B;AAI1BC,uBAJ0B;AAK1BC,wBAL0B;AAM1BC;AAN0B,aAAf,CATW;AAAA;AAAA,mBAkBD,qBAAO,GAAEK,iBAAeC,iBAAkB,qBAA1C,EAAgE;AACrFC,sBAAQ,MAD6E;AAErFL,kBAFqF;AAGrFM,uBAAS;AACP,gCAAgB,kBADT;AAEPC,+BAAgB,UAASR,SAAU;AAF5B;AAH4E,aAAhE,CAlBC;;AAAA;AAkBlBS,oBAlBkB;AAAA;AAAA,mBA2BlB,8BAAkBA,QAAlB,CA3BkB;;AAAA;AAAA,6CA6BjBA,SAASC,IAAT,EA7BiB;;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,GAApB;;AAAA;AAAA;AAAA;AAAA,GAAN;;kBAgCejB,iB","file":"createDestination.js","sourcesContent":["import fetch from '../fetch'\nimport platformConfig from '../config'\nimport { checkHttpResponse } from '../utils'\n\nconst createDestination = async ({\n  tenantUid,\n  appUid,\n  serviceName,\n  stageName,\n  regionName,\n  accountId,\n  accessKey\n}) => {\n  const body = JSON.stringify({\n    tenantUid,\n    appUid,\n    serviceName,\n    stageName,\n    regionName,\n    accountId\n  })\n\n  const response = await fetch(`${platformConfig.logDestinationUrl}destinations/create`, {\n    method: 'POST',\n    body,\n    headers: {\n      'Content-Type': 'application/json',\n      Authorization: `bearer ${accessKey}`\n    }\n  })\n\n  await checkHttpResponse(response)\n\n  return response.json()\n}\n\nexport default createDestination\n"]}