{"version":3,"sources":["../../src/deployProfiles/getDeployProfile.js"],"names":["accessKey","app","tenant","stage","service","platformConfig","backendUrl","method","headers","Authorization","body","JSON","stringify","stageName","serviceName","response","status","secretValues","safeguardsPolicies","providerCredentials","json"],"mappings":";;;;;;AAAA;;;;AACA;;;;;;;;;sEAEe;AAAA,QAASA,SAAT,QAASA,SAAT;AAAA,QAAoBC,GAApB,QAAoBA,GAApB;AAAA,QAAyBC,MAAzB,QAAyBA,MAAzB;AAAA,QAAiCC,KAAjC,QAAiCA,KAAjC;AAAA,QAAwCC,OAAxC,QAAwCA,OAAxC;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,mBACU,qBACpB,GAAEC,iBAAeC,UAAW,WAAUJ,MAAO,iBAAgBD,GAAI,eAD7C,EAErB;AACEM,sBAAQ,MADV;AAEEC,uBAAS,EAAEC,eAAgB,UAAST,SAAU,EAArC,EAFX;AAGEU,oBAAMC,KAAKC,SAAL,CAAe;AACnBC,2BAAWV,KADQ;AAEnBW,6BAAaV;AAFM,eAAf;AAHR,aAFqB,CADV;;AAAA;AACPW,oBADO;;AAAA,kBAYTA,SAASC,MAAT,KAAoB,GAZX;AAAA;AAAA;AAAA;;AAAA,6CAaJ,EAAEC,cAAc,EAAhB,EAAoBC,oBAAoB,EAAxC,EAA4CC,qBAAqB,IAAjE,EAbI;;AAAA;AAAA,6CAgBNJ,SAASK,IAAT,EAhBM;;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,G","file":"getDeployProfile.js","sourcesContent":["import fetch from '../fetch'\nimport platformConfig from '../config'\n\nexport default async ({ accessKey, app, tenant, stage, service }) => {\n  const response = await fetch(\n    `${platformConfig.backendUrl}tenants/${tenant}/applications/${app}/profileValue`,\n    {\n      method: 'POST',\n      headers: { Authorization: `bearer ${accessKey}` },\n      body: JSON.stringify({\n        stageName: stage,\n        serviceName: service\n      })\n    }\n  )\n  if (response.status === 204) {\n    return { secretValues: [], safeguardsPolicies: [], providerCredentials: null }\n  }\n\n  return response.json()\n}\n"]}