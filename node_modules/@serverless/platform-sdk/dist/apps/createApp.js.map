{"version":3,"sources":["../../src/apps/createApp.js"],"names":["slugifyApp","text","toString","toLowerCase","replace","createApp","data","body","JSON","stringify","tenantName","tenant","appName","app","title","platformConfig","backendUrl","method","headers","Authorization","token","response","json"],"mappings":";;;;;;AAAA;;;;AACA;;;;;;;;AAEA,IAAMA,aAAa,SAAbA,UAAa,CAACC,IAAD;AAAA,SACjBA,KACGC,QADH,GAEGC,WAFH,GAGGC,OAHH,CAGW,aAHX,EAG0B,GAH1B,EAG+B;AAH/B,GAIGA,OAJH,CAIW,KAJX,EAIkB,EAJlB,EAIsB;AAJtB,GAKGA,OALH,CAKW,KALX,EAKkB,EALlB,CADiB;AAAA,CAAnB,C,CAMwB;;AAExB,IAAMC;AAAA,qEAAY,iBAAOC,IAAP;AAAA;AAAA;AAAA;AAAA;AAAA;AACVC,gBADU,GACHC,KAAKC,SAAL,CAAe;AAC1BC,0BAAYJ,KAAKK,MADS;AAE1BC,uBAASZ,WAAWM,KAAKO,GAAhB,CAFiB;AAG1BC,qBAAOR,KAAKO;AAHc,aAAf,CADG;AAAA;AAAA,mBAMO,qBAAO,GAAEE,iBAAeC,UAAW,WAAUV,KAAKK,MAAO,eAAzD,EAAyE;AAC9FM,sBAAQ,MADsF;AAE9FV,kBAF8F;AAG9FW,uBAAS;AACPC,+BAAgB,UAASb,KAAKc,KAAM;AAD7B;AAHqF,aAAzE,CANP;;AAAA;AAMVC,oBANU;AAAA,6CAcTA,SAASC,IAAT,EAdS;;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,GAAZ;;AAAA;AAAA;AAAA;AAAA,GAAN;;kBAiBejB,S","file":"createApp.js","sourcesContent":["import fetch from '../fetch'\nimport platformConfig from '../config'\n\nconst slugifyApp = (text) =>\n  text\n    .toString()\n    .toLowerCase()\n    .replace(/[^a-z0-9]+/g, '-') // Replace any run of disallowed chars with a hyphen\n    .replace(/^-+/, '') // remove leading hyphens\n    .replace(/-+$/, '') // remove trailing hyphens\n\nconst createApp = async (data) => {\n  const body = JSON.stringify({\n    tenantName: data.tenant,\n    appName: slugifyApp(data.app),\n    title: data.app\n  })\n  const response = await fetch(`${platformConfig.backendUrl}tenants/${data.tenant}/applications`, {\n    method: 'POST',\n    body,\n    headers: {\n      Authorization: `bearer ${data.token}`\n    }\n  })\n\n  return response.json()\n}\n\nexport default createApp\n"]}