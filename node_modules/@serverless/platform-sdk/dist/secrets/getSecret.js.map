{"version":3,"sources":["../../src/secrets/getSecret.js"],"names":["secretName","accessKey","app","service","tenant","stage","body","JSON","stringify","appName","serviceName","stageName","platformConfig","backendUrl","method","headers","Authorization","response","json"],"mappings":";;;;;;AAAA;;;;AACA;;;;;;;;;sEAEe;AAAA,QAASA,UAAT,QAASA,UAAT;AAAA,QAAqBC,SAArB,QAAqBA,SAArB;AAAA,QAAgCC,GAAhC,QAAgCA,GAAhC;AAAA,QAAqCC,OAArC,QAAqCA,OAArC;AAAA,QAA8CC,MAA9C,QAA8CA,MAA9C;AAAA,QAAsDC,KAAtD,QAAsDA,KAAtD;AAAA;AAAA;AAAA;AAAA;AAAA;AACPC,gBADO,GACAC,KAAKC,SAAL,CAAe;AAC1BR,wBAD0B;AAE1BS,uBAASP,GAFiB;AAG1BQ,2BAAaP,OAHa;AAI1BQ,yBAAWN;AAJe,aAAf,CADA;AAAA;AAAA,mBAQU,qBAAO,GAAEO,iBAAeC,UAAW,WAAUT,MAAO,iBAApD,EAAsE;AAC3FU,sBAAQ,MADmF;AAE3FR,kBAF2F;AAG3FS,uBAAS;AACPC,+BAAgB,UAASf,SAAU;AAD5B;AAHkF,aAAtE,CARV;;AAAA;AAQPgB,oBARO;AAAA,6CAgBNA,SAASC,IAAT,EAhBM;;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,G","file":"getSecret.js","sourcesContent":["import fetch from '../fetch'\nimport platformConfig from '../config'\n\nexport default async ({ secretName, accessKey, app, service, tenant, stage }) => {\n  const body = JSON.stringify({\n    secretName,\n    appName: app,\n    serviceName: service,\n    stageName: stage\n  })\n\n  const response = await fetch(`${platformConfig.backendUrl}tenants/${tenant}/secrets/access`, {\n    method: 'POST',\n    body,\n    headers: {\n      Authorization: `bearer ${accessKey}`\n    }\n  })\n\n  return response.json()\n}\n"]}